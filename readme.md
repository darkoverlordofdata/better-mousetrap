# better-mousetrap 

Building a better mousetrap

@see http://gameprogrammingpatterns.com/data-locality.html

A more functional style comparng c++ and vala.


## status

performance-wise it's a dead heat between vala and c++.
vala, especially genie, is so much easier and faster to code and understand what I've coded, and the gnome libs are great.

Problem is, gnome libs aren't very portable. My cpp code compiles in emscripten and runs extremely fast in the browser. I can't get the gnome libs to compile under emscripten. Attempts to get GLib to compile for android also fail. Running gnome on other platforms seems more of a myth than a reality.

If xplatform is a requirement, it's down to cpp or fsharp.
If performance is a requirement, it's down to cpp or vala.
If readability and codeabilty are requirements, it's down to scala or vala.

If I need to use cpp, perhaps lzz is the answer to codeability?

#### resources.c / resources.cc is missing
it's 4mb and doesn't fit on git hub. use the resources.c generated by shmupwarz


Mix_Chunk *sample;
sample=Mix_LoadWAV("sample.wav");
if(!sample) {
    printf("Mix_LoadWAV: %s\n", Mix_GetError());
    // handle error
}
 	
// play sample on first free unreserved channel
// play it exactly once through
// Mix_Chunk *sample; //previously loaded
if(Mix_PlayChannel(-1, sample, 0)==-1) {
    printf("Mix_PlayChannel: %s\n",Mix_GetError());
    // may be critical error, or maybe just no channels were free.
    // you could allocated another channel in that case...
}
